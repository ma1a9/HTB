開発者がどのように乱数や文字列を生成するかによって、生成される値は多かれ少なかれランダムになり得ます。最も大きな間違いは、定数や現在時刻を使って手動で乱数生成器を設定することです。  
このセクションでは、ランダムが常にランダムではないことを納得させるいくつかの例を見ていきます。   
# <span style="color: blue;">Example 1</span>
この最初の例は、ランダムが本当のランダムでないことを示すためにここにあるだけです。この問題は、シード付きランダムジェネレータを使用したことに起因しています。開発者は乱数生成器のシードとして値0を使いました。  
このコードでは、開発者がシードを0に設定したため、常に同じパスワードが生成されることがわかります。  
```Ruby
s = Random.new(0)
pass = 6.times.map { ('a'..'z').to_a[s.rand(('a'..'z').to_a.size)]}.join
User.create(:username => 'admin', :password => Digest::MD5.hexdigest(SEED+pass+SEED))
pass = 6.times.map { ('a'..'z').to_a[s.rand(('a'..'z').to_a.size)]}.join
User.create(:username => 'hacker', :password => Digest::MD5.hexdigest(SEED+pass+SEED))
```

![9b41a604bca670ded8ab42674a998782.png](../../_resources/9b41a604bca670ded8ab42674a998782-1.png)   

![3ed21bf59bd031df1f990d94362daefc.png](../../_resources/3ed21bf59bd031df1f990d94362daefc-1.png)    
Passwordに`mpvadd`を入力   
![f2df8b9c3898f96c716920b92ef03584.png](../../_resources/f2df8b9c3898f96c716920b92ef03584-1.png) 
# <span style="color: blue;">Example 2</span>
この例では、ランダムジェネレータのシードがうまくいっていない別の例を示しています。乱数生成器には現在時刻がシードされています。   
管理者パスワードに到達するためには、シードをブルートフォースする必要があります。そのためには、現在の時刻から始めて、パスワードが得られるまで、値を生成するのに使われたアルゴリズムを再生しながら、時刻を減らしていくことができます。   
パスワードが得られたら、どのシードが使われたか（より正確にはランダムジェネレータが初期化された時間）がわかります。そして、管理者パスワードを取得することができます。    
```Ruby
s = Random.new(Time.now.to_i)
pass = 6.times.map { ('a'..'z').to_a[s.rand(('a'..'z').to_a.size)]}.join
User.create(:username => 'admin', :password => Digest::MD5.hexdigest(SEED+pass+SEED))
pass = 6.times.map { ('a'..'z').to_a[s.rand(('a'..'z').to_a.size)]}.join
User.create(:username => 'hacker', :password => Digest::MD5.hexdigest(SEED+pass+SEED))
```
今回のシードは、現在のタイムスタンプです。パスワードを取得するためには、生成されたパスワードを計算するスクリプトを作成する必要があります。   
```Ruby
timestamp = (Time.now.to_f).to_i
seed = Random.new(timestamp)
pass_admin = 6.times.map { ('a'..'z').to_a[seed.rand(('a'..'z').to_a.size)]}.join
pass_hacker = 6.times.map { ('a'..'z').to_a[seed.rand(('a'..'z').to_a.size)]}.join

while pass_hacker !="mgguzb" do #contraseña del usuario 'hacker'
 timestamp = timestamp - 1
 seed = Random.new(timestamp)
 pass_admin = 6.times.map { ('a'..'z').to_a[seed.rand(('a'..'z').to_a.size)]}.join
 pass_hacker = 6.times.map { ('a'..'z').to_a[seed.rand(('a'..'z').to_a.size)]}.join
end

puts "Password de admin: "
puts pass_admin
```
![a6ad75bd237e6a5930118a3f34ba94c9.png](../../_resources/a6ad75bd237e6a5930118a3f34ba94c9.png)   
![ba03e018ad471495d05dcb86f8e556c4.png](../../_resources/ba03e018ad471495d05dcb86f8e556c4.png)    
![527644e412595a677d026fd0009c3b25.png](../../_resources/527644e412595a677d026fd0009c3b25.png)    

# <span style="color: blue;">Example 3</span>
```ruby
s = Random.new(0)
pass = (6+s.rand(5)).times.map { ('a'..'z').to_a[s.rand(('a'..'z').to_a.size)]}.join
User.create(:username => 'admin', :password => Digest::MD5.hexdigest(SEED+pass+SEED))
pass = (6+s.rand(5)).times.map { ('a'..'z').to_a[s.rand(('a'..'z').to_a.size)]}.join
User.create(:username => 'hacker', :password => Digest::MD5.hexdigest(SEED+pass+SEED))
```
![b54935ea4824245900a5216cff07fecb.png](../../_resources/b54935ea4824245900a5216cff07fecb.png)   
Passwordに`pvaddhjtvs`を入力   
![63ba75eef4260d5bc698644357caf4d3.png](../../_resources/63ba75eef4260d5bc698644357caf4d3.png)   
![1eb369d0f2aa07dc150703722e5229c0.png](../../_resources/1eb369d0f2aa07dc150703722e5229c0.png)  

# <span style="color: blue;">Example 4</span>
```ruby
s = Random.new(0)
rand(1000).times {s.rand(5)}
pass = 6.times.map { ('a'..'z').to_a[s.rand(('a'..'z').to_a.size)]}.join
User.create(:username => 'admin', :password => Digest::MD5.hexdigest(SEED+pass+SEED))
pass = 6.times.map { ('a'..'z').to_a[s.rand(('a'..'z').to_a.size)]}.join
User.create(:username => 'hacker', :password => Digest::MD5.hexdigest(SEED+pass+SEED))
```
この状況では、乱数発生器が以前に何回使われたかは分かりませんが、ハッカーアカウントで同じパスワードを見つけるまでブルートフォースでパスワードを入力し、正しい値で管理者コードを実行することができます。  
```ruby
a = 1000
s = Random.new(0)
a.times {s.rand(5)}
passad = 6.times.map { ('a'..'z').to_a[s.rand(('a'..'z').to_a.size)]}.join
passhk = 6.times.map { ('a'..'z').to_a[s.rand(('a'..'z').to_a.size)]}.join

puts "insert the password for the hacker login:"
pass_hk = gets.chomp

while passhk != pass_hk do #here you should place the password for the hacker acount
a = a - 1
s = Random.new(0)
a.times {s.rand(5)}
passad = 6.times.map { ('a'..'z').to_a[s.rand(('a'..'z').to_a.size)]}.join
passhk = 6.times.map { ('a'..'z').to_a[s.rand(('a'..'z').to_a.size)]}.join
#puts a
end
puts "admin pass is :"
puts passad
puts "done :-)"
```
![cbc7cd2056f0d143cd7aba9cf2c70345.png](../../_resources/cbc7cd2056f0d143cd7aba9cf2c70345.png)   
![bee34438e5d65e2d64c456eb219821fc.png](../../_resources/bee34438e5d65e2d64c456eb219821fc.png)   
![42b210103c7994fbc6f473c5fe9b717e.png](../../_resources/42b210103c7994fbc6f473c5fe9b717e.png)